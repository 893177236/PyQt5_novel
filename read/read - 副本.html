<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta content="text/html; charset=utf-8">
    <meta name="viewport"
        content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <title>手机端书本翻页效果</title>

    <script type="text/javascript" src="js/jquery-1.7.1.min.js"></script>
    <!-- <script type="text/javascript" src="js/turn4.js"></script> -->
    <script type="text/javascript" src="js/turn3.js"></script>
    <script type="text/javascript" src="js/qwebchannel.js"></script>
    <link rel="stylesheet" type="text/css" href="css/loading.css">
    <link rel="stylesheet" type="text/css" href="css/novel.css">
    <!-- <script type="text/javascript" src="turn.html4.js"></script> -->

</head>

<body>
    <div class="load">
        <div class="loader" title="2">
            <svg version="1.1" id="loader-1" x="0px" y="0px" width="100px" height="100px" viewBox="0 0 50 50"
                style="enable-background:new 0 0 50 50;" xml:space="preserve">
                <path fill="#000"
                    d="M43.935,25.145c0-10.318-8.364-18.683-18.683-18.683c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615c8.072,0,14.615,6.543,14.615,14.615H43.935z">
                    <animateTransform attributeType="xml" attributeName="transform" type="rotate" from="0 25 25"
                        to="360 25 25" dur="0.6s" repeatCount="indefinite" />
                </path>
            </svg>
            <div class="load-msg"> 加载中,请稍后....</div>
        </div>
    </div>

    <div id="magazine">
        <div id="pages"></div>
        <div id="content">
            <div id="contentText"> </div>
        </div>
    </div>
    <div id="alert"></div>
    <!-- <script type="text/javascript" src="https://code.jquery.com/jquery-1.7.1.min.js"></script>
    <script type="text/javascript" src="https://test.whitesev.top/js/turn4.js"></script> -->
    <!-- <script type="text/javascript" src="https://cdn.bootcss.com/turn.js/3/turn.min.js"></script> -->
    <script type="text/javascript">

        var readText = `1、第一章


    高一上学期，林清乐从外地转学回来，跟着母亲回到了老家溪城。
    这是她第三次转学了，这些年来，随着母亲工作地点的转移，她也跟着跑了几个城市。转学并不是件值得高兴的事，前两次她都是转得心不甘情不愿。
    不过，这次不一样。
    溪城这些年发展愈发偏重南边，南边成了城中心，高楼顶立，而北边这些老房子相较起来就成了矮破小。
    林清乐家就在这堆矮破小里。
    这块地方跟几年前比没什么大变化，她回家依然要经过一条老街味道浓郁的小路，依然要爬过堆着很多杂物的楼梯。从楼梯上去的时候，也依然会听到某间屋子里传出来的喋喋不休的唠叨声和麻将声。
    其实，以前她是不喜欢走这条路的。但今天大概是因为心情好，她竟然觉得这一切都挺亲切。
    “小清乐，下课了啊？”临到家楼下的时候，听到有人喊了她一声。林清乐抬头，看到对面二楼窗户一个女人依靠在窗口。
    女人穿着吊带的连衣裙，露出的手臂肉白花花，有些松弛。
    “梁姨。”林清乐站定，乖乖地唤了声。
    “第一天上课，感觉怎么样啊？”那女人问道。
    “还行的。”
    “那就好。哎呀你这孩子可越长越水灵了，比以前更可爱了嘞。”女人居高临下，又打量了她好几眼，“诶，这次回来可不走了吧？”
    林清乐点头：“妈妈说不走了。”
    “不走好不走好，咱溪城多好啊。”女人笑着道，“你看李家那小姑娘，在外头读了几年书混了几年班还不是灰溜溜回来了，嫁得还不错呢，读得好不如嫁得好啊。我跟你说呀，那大城市的人都精着呢，我瞧着就不如咱这边。哦你还记得李家那姑娘吗，就以前那个常穿黄裙子的，比你大好多岁……”
    “梁姨，我妈还等我吃饭。”林清乐打断了她。
    女人的滔滔不绝卡顿了下，脸上带着说不尽兴的遗憾：“哦哦好好，那你快回家吧。”
    林清乐嗯了声，转头便上了楼。
    而二楼女人的视线一直尾随着林清乐，直到看不见她身影了才露出一个漫不经心的同情来：“哎，真是造孽啊……”
    林清乐家就在这栋楼的三层，推门进去后，一地凌乱。因为刚搬回来，很多东西都还没来得及收拾。
    “回来了，快吃饭吧。”母亲林雨芬拿掉了围裙，从小厨房里出来了。
    林清乐把书包放下，坐到了餐桌边。
    “别听那些人胡说八道。”
    林清乐拿着筷子的动作一顿，不解地抬眸。
    林雨芬说：“大城市就是好，你一定得考到大城市去。她们懂什么，李家那丫头混不下去是因为她读的本来也不是什么好学校，那是她自己能力问题。你啊，跟她们不能比，你是要上最好的学校，以后也一定是要在大城市里混出前途的。你专心读书，读书最有用了。”
    “读书论”林清乐从小到大听了不下百遍，她吃了口小青菜，乖巧嗯了一声。
    “对了，今天第一天上课，感觉怎么样，跟得上吗。”
    “可以的。”
    “那你不懂要记得多问问老师啊。”
    “知道了妈。”
    ……
    九月的天十分闷热，这一年，林清乐家里还没有那个闲钱装空调。
    “大早上的洗什么澡，小心迟到了。”林清乐从浴室出来的时候，林雨芬已经准备去厂里上班了。她上班的地方有些远，公交车单程就要一个小时。
    林清乐皱了下鼻子：“妈，昨天好热，我都流汗了。”
    “让你开窗睡，开了吗。”
    “会有蚊子。”
    “啧……晚上回来我去买蚊香。”林雨芬急急穿了鞋，“你动作快点，早餐自己买来吃。”
    “好。”
    时间其实还不紧，林清乐穿上校服，拿上书包，磨蹭了半个小时才出门。
    家里出来的那个路口有个早餐摊，林清乐买了个奶黄包，一边吃一边往学校方向走。
    “给！”
    突然，边上出现了一瓶牛奶。
    林清乐顺着拿牛奶的那只手往后看，看到一个短发的女孩子，单眼皮，眼睛略狭长，带着股英气。
    “你不会不知道我是谁吧？”短发女孩见她不说话，眼睛瞪大了些，“我是你同班同学，唔，坐你前面的前面。”
    林清乐反应了两秒，脑子里依然没这个人：“不好意思啊，我还记不全班里的人。”
    “昨天还是我给你领的书呢，这就忘啦。”蒋书艺虽然这么说着，但显然也没计较，“我是咱们班班长，我叫蒋书艺。”
    这么一说林清乐倒是有点印象了，昨天确实是班里的同学帮她领的新书。
    “啊……昨天谢谢你了。”
    林清乐长了一双桃花眼，照理说会是明艳的长相，但她留着齐刘海，皮肤白白的，脸圆圆的，中和那股子明媚的气息，看着是很乖很温顺的。
    她认认真真说谢谢的时候，还让人觉得有种纯纯的可爱劲。
    蒋书艺盯着她看了几秒，莫名其妙起了点保护欲。
    “怎么了？”林清乐问。
    蒋书艺回神，嘿嘿一笑：“没事没事，那个，我之前在办公室看过你的资料，你小学的时候是三小读的啊，我是五小的，咱们以前小学只隔了三条街。”
    “是吗。”
    蒋书艺把牛奶往她手上推了推：“对啊。给，你喝。”
    林清乐没接牛奶，有些抱歉道：“谢谢，我不喝纯奶。”
    “啊？”
    “从小就不喜欢。”
    “那下回给你买果汁吧。”蒋书艺说，“我家跟你家蛮近的，咱们现在都同班了，以后一起回家呗。新同学，我多多关照你啊。”
    林清乐看了她一眼，低低道：“好啊。”
    林清乐家离四中不远，走路的话十多分钟就能到。
    四中是这座小城市最好一所高中，林清乐是因为优异的成绩才能转进来的。
    “这学期我们班第一个值周。”两人从校门口进来的时候，蒋书艺跟边上的站着值周的同班同学打了一圈招呼。
    林清乐跟同班同学还不熟，所以只是看着。
    “怎么样，帅的吧。”走过校门的检查队伍后，蒋书艺突然凑到她耳边说了句。
    “什么？”
    “就我最后打招呼那个，郁嘉佑。”
    林清乐随着蒋书艺示意的方向回头看了眼，校门边上站着的两排人，那两排中，确实有一个高挑的身影最为出众。
    “唔……好像是……”
    “什么叫好像是，那可是我们学校校草，我们班的荣耀人物呢。”
    “校草？”
    “对啊。”蒋书艺得意地笑，仿佛校草出自自己班是件十分长脸的事，“这可是我们学校全体女生一起投出来的，票数是压倒性的胜利。”
    早自修铃声开始响了，路上还在走着的学生都加快了步伐，林清乐犹豫了下，停下了脚步。她看着蒋书艺的背影，尽量让自己的问题听起来只是随口，只是不经意。
    “那……许汀白呢。”
    “嗯？”蒋书艺回过头，眼里那瞬间带着点茫然。
    林清乐看她反应愣了一下，心里冒出一丝紧张的情绪。
    难道，他不在这学校？
    “你刚才说许汀白？是你们三小的那个许汀白吗？”
    “嗯。”
    蒋书艺反应过来了，她面色带着些许怪异，说：“他不在我们学校。”
    林清乐心口一沉：“他搬走了吗。”
    林清乐认定，以许汀白的成绩但凡还在这个地方就一定会在最好的高中。
    蒋书艺退了两步走到她边上，神秘道：“你不知道么？”
    知道什么。
    她小学毕业后就转学了，一直没能再回到这个地方。直到今年，她才因母亲工作转移回这里。她对这个地方空白三年，对那个人，自然也空白了这么久。
    “他看不见了。”
    铃声还在响，穿过走廊，在整座学院里来回飘荡。
    林清乐微微歪了脑袋，显然是不解，“什么？”
    蒋书艺带着些许唏嘘，小声道：“哎呀，就是变成一个瞎子的意思嘛。”
    **
    林清乐想过很多许汀白重新见到她的场景，可能是很高兴的，那个长相出众阳光温暖的男孩会笑着看着她，说你竟然回来了。
    也可能是有些疏离的，毕竟好几年没联系，是人都会陌生。但再陌生，她想他那样的人应该也会说句好久不见，不至于让人觉得尴尬。
    很多很多……总之回来前，她总在脑子里幻想见面的场景，心里隐隐带着欣喜和激动。
    但她从来没想过，许汀白可能会看不见她。
    这么荒谬。
    “小姑娘，岳潜路路口到了。”前排出租车司机道。
    “谢谢师傅。”林清乐给了钱，很快下了车。
    现在是下午下课到晚自习开始的那段休息时间，她用晚饭的钱直接打车到了蒋书艺那里听来的，许汀白现在住的地方。
    眼前是一片老旧楼房和小巷，属于溪城老城区位置。
    竟然离她家并不远。
    可印象中，那个少年家境异常殷实……
    林清乐皱了皱眉，沿着小巷往里走。
    小巷横七竖八，上坡下坡错综复杂。蒋书艺不知道他具体住哪，所以也没办法告诉她精确的。再加上路上没看见路人，林清乐只能漫无目的地绕圈。
    其实，她不知道今天如果见到了许汀白她要说什么，更不知道自己急不可耐一下课就跑出来打车是不是合适。
    如果不是今天听到蒋书艺口中的那些消息，她会在学校里等个“有缘”的偶遇，如果他一时认不出她的话，她就追上去拍他的肩膀，然后笑着跟他说，好久不见啊。
    可蒋书艺却说他瞎了，这让她没法冷静地等那个偶遇。
    时间一分一秒的过去。
    林清乐停下来，靠在小巷的墙边。她看了眼手表——晚自习时间快到了，她得走了。
    大概，今天她是见不到许汀白。
    林清乐沮丧地叹了口气，转身往来处走去。但就在她转头准备离开的时候，身后突然响了脚步声。不快，一步一步，带着一丝不易察觉的犹豫。
    像是突然有了什么感应似得，林清乐立刻回了头。
    于是，她看到他从拐角处走过来了。
    纯色的黑t，简单的黑裤。比起年幼的许汀白，少年许汀白身高拔长夸张，身型跟以前完全不一样了。
    可她一眼就认出了他。
    一时间，心口涌来的是无尽的欣喜。
    但触及他的眉目时，欣喜像被扯住了，一下又被拉回了心脏。
    眉眼是他，可好像也不是他了。
    记忆中阳光温柔的瞳眸，此时平静漠然到激不起一丝火花，是触目惊心的空洞。
    听到是一回事，亲眼见到就是另外一回事了。
    林清乐静默着看着他，只觉半边身体都凉了。以至于他从她边上走过的时候，她一声也发不出来。
    只能感觉到他走过时带着轻飘飘的一阵风，带着小巷特有的阴冷。
    许汀白路过了，真的看不见她。




2、第二章


    夏日的夜晚来得比较迟，小巷还未暗下来。
    林清乐放轻了脚步，在距离他几米处安静地跟着。方才那一瞬间的惊心让她脑子里一片混乱，压根也不知道怎么叫住他。
    时间一分一秒地过去，她怀疑她都快要跟到他家了。
    “跟够了吗。”不远处的人突然停了下来，他没有回头，声音极冷。
    林清乐愣了下，第一反应是往周边看了看，等意识到现在这条路上只有他们两个人的时候，她才确定他这句话是对他说的。
    林清乐轻吸了一口气，终于小跑了两步到他边上。
    “你知道啊……”她摸了下鼻子，声音低低的，有些小尴尬。
    许汀白微微侧了下头，但他不是在看她，因为他的眼里是失了焦的。
    “又想做什么。”
    “嗯？”
    许汀白眉头轻拧，嫌恶和排斥溢于言表。
    林清乐微怔，她从未看到他这种表情，她也意识到，他可能是认错人了。
    她着急解释：“不是，我，我没想做什么。我是……”
    “那就滚远点。”
    “……”
    过往她最喜欢的，笑得温柔好看的那张脸，此刻不复存在。
    恶言之后，少年继续往前走。
    背影清瘦冷寂，拒人千里之外。
    林清乐呆愣在原地，本就一团乱的心脏更是烦闷。
    蒋书艺口中那个她所陌生的许汀白，是真的。
    这个认知让她难受得无以复加。
    “许汀白！”她回过神，轻而易举追上了他，拉住了他的衣摆。
    “没完了是吗。”他语气冷得让人却步。
    林清乐摇了摇头，可想到他看不见，又立刻开口道：“不是，你认错了。我……我是林清乐。”
    眼前的人面无表情，没有反应。
    林清乐勉强笑了下，问道：“你还记得我吗，小学的时候我们是同桌，我们——”
    “不记得。”
    “……啊？”
    “放手。”
    ——
    许汀白很聪明，林清乐从小就觉得他是她见过的最聪明的人。所以他说她不记得她，她一点都不信，可是他漠然着脸把她的手拉开也是事实。
    教室风扇徐徐转动着，书面上数学公式错乱复杂，乏味而枯燥。
    晚自习最后一节的下课铃响起的时候，林清乐的笔尖停在了某个公式的边上，拉出了一条长线。
    “清乐，走啊，一起回家。”蒋书艺抬手招呼。
    “嗯。”林清乐合上了书，收进了书包里。
    两人出了教室，一同往校门口走。
    “书艺！要不要去吃夜宵。”班上一个女生从后面跑了上来。
    蒋书艺晃了晃手指：“不吃，最近我胖了超多，戒夜宵了！”
    女生闻言抬了下自己的腿：“我最近腿也粗了好多。”
    “那你还吃。”
    女生皱眉，可怜兮兮道：“这不是学习太勤奋饿的吗，算了算了你不吃那我也不吃了。”说完，女生看向蒋书艺边上的林清乐。
    她对这个新同学挺好奇，应该说，班上的人或多或少都对她挺好奇，因为新来的小同学长得好看，而且听班主任说过，她的成绩还很好。
    “嗨你好啊新同学，我叫于亭亭。”
    林清乐心不在焉，但还是礼貌打了个招呼：“你好。”
    蒋书艺：“清乐，她是我们班的文艺委员，以前也是五小的，所以估计你也不认识。”
    于亭亭：“那可不一定，我小学那会逢艺术节必参加，这么知名其他学校也有人认识我的～”
    “得了吧你，我那会都不认识你。”
    “那是你记忆力不行！”
    “嘿你这人——”
    ……
    边上两人叽叽喳喳吵起来了，但林清乐一个字也没听进去，她一个晚上，脑子里只重复出现那个少年的眼睛。
    “他的眼睛还能好吗。”她喃喃说了声。
    “什么？”蒋书艺回头看她。
    林清乐这才意识到自己想入神了，心里想的竟说了出来：“啊？没什么……”
    “你是在说许汀白？”
    林清乐今天从蒋书艺那问了好些许汀白的事，所以蒋书艺很容易就能联系起来，她意味深长地道：“你好像特别好奇他的事。”
    林清乐微微低眸：“我们……以前同个班。”
    “这样，那对许汀白变成这样好奇也正常。”
    “谁谁？许汀白啊。”于亭亭凑了过来，“他怎么了？”
    蒋书艺：“没什么，清乐小学跟他是同班同学，问了两句，有点感慨吧。”
    于亭亭噢了声：“要换我我也感慨，当初他家多好啊，谁知道能反转成这样……我还记得当年他家出事那会还引起咱们这地方不小轰动呢，又是破产又是车祸。诶对了，许汀白的眼睛不就是那场车祸瞎的嘛。哎，真可惜，我还记得小学那会我们学校也有好多女孩子暗恋他呢。”
    时间慢慢过去后，当年许家的事也被人说烂了，到了这会甚至都挤不进众人茶余饭后的谈资里。
    现在说起许家那个天之骄子许汀白的遭遇，众人可能也就是象征性地感慨一下，然后轻描淡写过去，挑自己最关注的点八卦。
    “什么，你们也太早熟了吧？小学就暗恋来暗恋去？别告诉我你也暗恋他啊。”蒋书艺笑道。
    于亭亭脸一红：“那怎么了，人长那么帅成绩还那么好，少女心还不许萌动啊。”
    “啧啧啧，不得了啊于亭亭，还偷偷摸摸暗恋隔壁学校的人呢。”
    “诶打住打住，我就是说我当年，想当年你懂吧。”于亭亭带着急于撇清的嫌弃也带着高高在上的惋惜，“现在我可没有，他算是废了啊……谁会喜欢一个瞎子。”
    林清乐脚步一滞，看了于亭亭一眼。
    那瞬间，从今天见过许汀白后就存在的那股子郁结不可遏制地涌了上来，压都压不住。
    “他也不想这样。”
    于亭亭和蒋书艺一顿，皆看向突然说话的林清乐。
    后者定定地看着于亭亭，分明是乖巧无害的长相，可这会看着却莫名凌厉，她重复道：“他也不想这样。而且，他的人生废不废不是你说了算。”
    “……”
    林清乐说完便离开了。
    于亭亭怔怔地看着林清乐的背影，好半天才道：“她什么意思。”
    蒋书艺皱眉：“你别乱说话了。”
    于亭亭嘴唇轻撅，委屈道：“我说错什么了嘛……”
    回到家后，林清乐依然心情低落。她没有再看书，洗了澡后直接上了床。
    许家发生了什么蒋书艺也不知道具体，她只能告诉她，许家三年前破产了，也是同年，许汀白因为车祸受了重伤眼睛看不见。
    那那一年，她在做什么呢。
    林清乐看着天花板，回忆起自己的三年前，那年她刚跟着母亲去了另一个城市，读了初一……所以，是她转学后不久他家就出事了。

`;
        init_main(readText);
        function clear() {


            let allpages = parseInt($("#pages").turn("pages"));
            for (let i = 0; i <= allpages; i++) {
                $("#pages").turn("removePage", 0);
            }


        }

        function pageAdd(){
                    let element = $("<div />",{"class":"hard"}).html("第一章");
                    // let currentPages = $("#pages").turn("pages");
                    // element.attr("progresspercent","85.9%");
                    // element.attr("progresspage","9/12");
                    // $("#pages").turn("pages",currentPages+1);
                    $('#pages').turn('addPage', element);

         }

        function init_main(writeStr) {
            //var writeStr = "";
            var $alert = $("#alert");
            var timer = null;
            var all_pages_ = null;
            var now_page_ = null;
            var initGetPages = function (writeStr) {
                var $wrap = $("#magazine");
                var $page = $("#pages");
                var page_width = $page.width(); //窗口的宽度
                var page_height = $page.height(); //窗口的高度

                var $content = $("#contentText");

                $content.html(writeStr);
                var len = writeStr.length; //总长度
                var total_height = $content.height(); //总高度
                var pageStrNum; //每页大概有多少个字符

                $page.append("<div>哈哈哈</div>")
                // pageAdd();
                // let myelement = $("<div />").html("第一章");
                    // let currentPages = $("#pages").turn("pages");
                    // element.attr("progresspercent","85.9%");
                    // element.attr("progresspage","9/12");
                    // $("#pages").turn("pages",currentPages+1);
                // $('#pages').turn('addPage', myelement);


                // if (total_height > page_height) {
                //     var initProgressNum = 0 //初始化页面数目
                //     pageStrNum = (page_height / total_height) * len; //每页大概有多少个字符
                //     var obj = overflowhiddenTow($content, writeStr, page_height);
                //     $page.append('<div currentChapterNum="'+initProgressNum+'"">' + obj.curr + '</div>'); //第一页
                //     while (obj.next && obj.next.length > 0) {
                //         obj = overflowhiddenTow($content, obj.next, page_height);
                //         $page.append('<div currentChapterNum="'+initProgressNum+'"">' +  obj.curr + '</div>'); //后面循环
                //     }
                // } else {
                //     return;
                // }

                //文字切割算法
                function overflowhiddenTow($texts, str, at,n) {
                    var throat = pageStrNum;
                    var tempstr = str.substring(0, throat);
                    var len = str.length;
                    initProgressNum++;
                    $texts.html(tempstr);
                    //取的字节较少,应该增加
                    while ($texts.height() < at && throat < len) {
                        throat = throat + 2;
                        tempstr = str.substring(0, throat);
                        $texts.html(tempstr);
                    }
                    //取的字节较多,应该减少
                    while ($texts.height() > at && throat > 0) {
                        throat = throat - 2;
                        tempstr = str.substring(0, throat);
                        $texts.html(tempstr);
                    }

                    return {
                        curr: str.substring(0, throat),
                        next: str.substring(throat)
                    }

                }
                $page.turn({
                    width: page_width,
                    height: page_height,
                    elevation: 50,
                    display: 'single',
                    gradients: true,
                    autoCenter: true,
                    // page:1,
                    // pages:3,
                    when: {
                        //页面上的任何一个动作开始触发
                        start: function (event, page, pageObj) {},

                        //页面上的任何一个动作结束触发
                        end: function (event, page, pageObj) {},

                        //翻页前触发
                        turning: function (event, page, view) {},

                        //翻页后触发
                        turned: function (event, page, view) {
                            // let currentPage = $("#pages").turn("page").toString();
                            // let currentClassName = ".page.p"+currentPage;
                            // let currentClassObj = $(currentClassName)[0];
                            // let currentClassAttrChapterNums = currentClassObj.attributes['currentChapterNum'].value;
                            // let currentProgress = currentPage+"/"+currentClassAttrChapterNums;
                            // showAlert(currentProgress);


                        },

                        //缩放触发
                        //event
                        //newFactor 缩放的倍数
                        //current 缩放前的倍数
                        zooming: function (event, newFactor, current) {},

                        //到第一页时触发
                        first: function (event) {
                            // let getSizeWidth = $("#pages").turn('size').width;
                            // let getSizeHeight =  $("#pages").turn('size').height;
                            // alert(getSizeWidth);
                            // alert(getSizeHeight);
                            // alert('触发');
                        },
                            
                        //到最后一页时触发
                        last: function (event) {

                        }
                    }
                });
                $wrap.click(function (e) {
                    var e = e || window.event;
                    //获得当前点击位置距离浏览器顶部的距离
                    var top = e.pageY;
                    //获得当前点击位置距离浏览器左侧的距离
                    var left = e.pageX;
                    let windowWidth = $("#magazine").width();
                    let windowHeight = $("#magazine").height();
                    console.log("浏览器宽，高：%s %s", windowWidth, windowHeight)
                    console.log("点击区域,距离左,上：%s %s", left, top)
                    let threePointsWidth_left = windowWidth / 3;
                    //let threePointsHeight_left = windowHeight / 3;
                    let threePointsWidth_right = windowWidth / 3 * 2;
                    //let threePointsHeight_right = windowHeight / 3*2;
                    var pageCount = $page.turn("pages"); //总页数
                    var currentPage = $page.turn("page"); //当前页

                    var progress = (currentPage / pageCount).toFixed(2);


                    if (left <= threePointsWidth_left && left >= 0) {
                        console.log("左边区域");
                        // $page.turn('previous')
                        previousPage(currentPage);

                    } else if (left >= threePointsWidth_right && left <= windowWidth) {
                        console.log("右边区域");
                        // $page.turn('next')
                        nextPage(currentPage, pageCount);
                    } else {
                        console.log("中间区域");
                    }

                })
                $(document).keydown(function (event) {
                    if (event.keyCode == 37) {//←
                        // $page.turn('previous')
                        previousPage($page.turn("page"))
                    }
                    if (event.keyCode == 39) {//→
                        // $page.turn('next')
                        nextPage($page.turn("page"), $page.turn("pages"))
                    }
                });

                function previousPage(currentPage) { //上一页
                    if (currentPage > 1) {
                        // $page.turn('page', currentPage - 1);
                        $page.turn('previous');
                    } else {
                        console.log("已经是第一页")
                        showAlert('已经是第一页');
                    }

                }
                function nextPage(currentPage, pageCount) { //下一页
                    if (currentPage < pageCount) {
                        $page.turn('next')
                        // $page.turn('page', currentPage + 1);
                    } else {
                        showAlert('已经是最后一页');
                    }

                }

                function showAlert(msg) {
                    clearTimeout(timer);
                    $alert.text(msg);
                    $alert.fadeIn();
                    timer = setTimeout(function () {
                        $alert.fadeOut();
                    }, 1000)
                }

            }

            //获取python传递的str
            if (writeStr) {
                initGetPages(writeStr);
                $('.load').hide();
                pageAdd();
            } else {
                alert(writeStr);
                return;
            }

        }


    </script>






</body>

</html>